# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class GoProject < Formula
  desc "Go project template"
  homepage "https://github.com/zackijack/go-project"
  version "0.2.0"
  bottle :unneeded

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/zackijack/go-project/releases/download/v0.2.0/go-project_Darwin_x86_64.tar.gz"
      sha256 "5fffb6713cb35c731c4ecaaf09ba156151a045e9cb9b4d62e3e2848322aba470"
    end
    if Hardware::CPU.arm?
      url "https://github.com/zackijack/go-project/releases/download/v0.2.0/go-project_Darwin_arm64.tar.gz"
      sha256 "8e02c2a8d17c3fee606234f6cae39c9c701b06263088c2245b5a172e2e048cf3"
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/zackijack/go-project/releases/download/v0.2.0/go-project_Linux_x86_64.tar.gz"
      sha256 "247b036079ed0dbbf11673e15fadef31f007b591adca5791dc93723b294fee28"
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/zackijack/go-project/releases/download/v0.2.0/go-project_Linux_arm.tar.gz"
      sha256 "2f16e7a1fe6a40606f9e7e96d6a704ed82b50ddae007c7b2d5d227f8a09be09b"
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/zackijack/go-project/releases/download/v0.2.0/go-project_Linux_arm64.tar.gz"
      sha256 "be2ca342d9368108b39f316b99d3f1fcf76188028e223d7cac196502c777d43b"
    end
  end

  def install
    bin.install "go-project"

    output = Utils.safe_popen_read({ "SHELL" => "bash" }, bin/"go-project", "completion", "bash")
    (bash_completion/"go-project").write output

    output = Utils.safe_popen_read({ "SHELL" => "zsh" }, bin/"go-project", "completion", "zsh")
    (zsh_completion/"_go-project").write output
  end

  test do
    system "#{bin}/go-project version"
  end
end
