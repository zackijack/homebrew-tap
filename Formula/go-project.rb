# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class GoProject < Formula
  desc "Go project template"
  homepage "https://github.com/zackijack"
  version "0.1.2"
  bottle :unneeded

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/zackijack/go-project/releases/download/v0.1.2/go-project_Darwin_x86_64.tar.gz"
      sha256 "6ed577d9ee474a2c638a798dab4d9d7182ff11a367388152e76b5ca7b6b246a5"
    end
    if Hardware::CPU.arm?
      url "https://github.com/zackijack/go-project/releases/download/v0.1.2/go-project_Darwin_arm64.tar.gz"
      sha256 "9474c3f67ddb60e9939bc2fb75b73c963a03cc369ce44e76e1360520926135c2"
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/zackijack/go-project/releases/download/v0.1.2/go-project_Linux_x86_64.tar.gz"
      sha256 "980da5af5506bde7f95047686532b62742418c2f11cd732215d7967df0741454"
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/zackijack/go-project/releases/download/v0.1.2/go-project_Linux_arm.tar.gz"
      sha256 "e1df67d021b3080f5fab12aac7eb345d2ded3ce1fc1a242121e13fa2f8b1262d"
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/zackijack/go-project/releases/download/v0.1.2/go-project_Linux_arm64.tar.gz"
      sha256 "3f236c3844d871afe21bddb1c982af1987266cd171959951eb5f88c2a95210e7"
    end
  end

  def install
    bin.install "go-project"

    output = Utils.safe_popen_read({ "SHELL" => "bash" }, bin/"go-project", "completion", "bash")
    (bash_completion/"go-project").write output

    output = Utils.safe_popen_read({ "SHELL" => "zsh" }, bin/"go-project", "completion", "zsh")
    (zsh_completion/"_go-project").write output
  end

  test do
    system "#{bin}/go-project version"
  end
end
